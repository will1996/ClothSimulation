// Flag blowing in the wind
// Narain et al. 2012, Figure 8
{
    "frame_time": 0.001,
    "frame_steps": 1,
    "duration": 20,
    "cloths": [{
        "mesh": "meshes/flag.obj",
		//"mesh": "meshes/square4.obj",
	"transform": {"translate": [0, 0, 0], "rotate": [120, 1, 1, 1]},
        "materials": [{
	    "data": "materials/camel-ponte-roma.json",
            "thicken": 2,
            "strain_limits": [0.95, 1.05]
	}],
        "remeshing": {
            "refine_angle": 0.3,
            "refine_compression": 0.01,
            "refine_velocity": 1,
//            "size": [20e-3, 500e-3],
			"size": [20e-3, 200e-3], // 16K triangles
//            "size": [10e-3, 200e-3], //64K triangles
 //           "size": [5e-3, 20e-3], //64K triangles
            "aspect_min": 0.2
        }
    }],
    //"handles": [{"nodes": [0,3]}],
	"handles": [{"nodes": [0,3,9,19,42]}],
    "gravity": [0, 0, -9.8],
    "wind": {"velocity": [10, 0, 0]},
    "disable": ["strainlimiting"],
    //"magic": {"repulsion_thickness": 10e-3, "collision_stiffness": 1e6,"fixed_high_res_mesh": true}
	"magic": {"repulsion_thickness": 10e-3, "collision_stiffness": 1e6,"fixed_high_res_mesh": true,
			"tm_output_file":true, "tm_iterations": 300}
}
